(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{126:function(e,t,n){},127:function(e,t,n){},128:function(e,t,n){},141:function(e,t,n){},142:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),s=n(25),r=n.n(s),i=(n(126),n(65)),o=n(16),l=(n(127),n(14)),j=n(199),d=n(211),h=n(213),b=n(197),u=n(216),O=(n(128),n(1));var x=function(){var e=Object(a.useState)(!1),t=Object(l.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(!1),r=Object(l.a)(s,2),i=r[0],x=r[1],f=Object(a.useState)(!1),m=Object(l.a)(f,2),p=m[0],g=m[1],v=Object(a.useState)(!1),S=Object(l.a)(v,2),y=S[0],w=S[1],k=Object(o.f)(),C=function(e){e.preventDefault();var t=document.getElementById("host").value,n=document.getElementById("username").value,a=document.getElementById("password").value;""===t?c(!0):""===n?x(!0):""===a?g(!0):fetch("http://localhost:8080/api/connect",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({host:t,username:n,password:a}),mode:"cors"}).then((function(e){return e.json().then((function(c){var s,r;e.ok?(s="/frontpage",r={interfaces:c.interfaces,vlans:c.vlans,banner:c.banner,host:t,username:n,password:a},k.push({pathname:s,state:r})):w(!0)}))})).catch((function(e){w(!0)}))};return Object(O.jsx)("div",{children:Object(O.jsxs)("header",{className:"App-header",children:[y?Object(O.jsx)("div",{className:"error-container",children:Object(O.jsxs)(j.a,{severity:"error",children:[Object(O.jsx)(d.a,{children:"Fejl"}),"Kunne ikke forbinde \u2014 ",Object(O.jsx)("strong",{children:"Pr\xf8v igen senere!"})]})}):Object(O.jsx)("div",{}),Object(O.jsx)("img",{src:"assets/images/cisco.png",className:"App-logo",alt:"logo"}),Object(O.jsxs)(h.a,{component:"form",sx:{"& > :not(style)":{m:1,width:"25ch",color:"white"}},noValidate:!0,autoComplete:"off",children:[Object(O.jsx)(b.a,{id:"host",label:"Host",variant:"filled",error:n}),Object(O.jsx)("br",{}),Object(O.jsx)(b.a,{id:"username",label:"Username",variant:"filled",error:i}),Object(O.jsx)("br",{}),Object(O.jsx)(b.a,{id:"password",label:"Password",variant:"filled",type:"password",error:p}),Object(O.jsx)("br",{}),Object(O.jsx)(u.a,{variant:"outlined",onClick:function(e){return C(e)},children:"Forbind"})]})]})})},f=n(207),m=n(209),p=n(205),g=n(206),v=n(208),S=n(204),y=n(203),w=(n(141),n(212)),k=n(217),C=n(210),_=n(98),N=n.n(_),I=n(97),B=n.n(I),E=n(219),M=n(201),T=n(195),P=n(214),A=n(218),F=n(215);function J(e){var t=e.row,n=e.config,c=a.useState(!1),s=Object(l.a)(c,2),r=s[0],i=s[1],o=a.useState("up"===t.status),j=Object(l.a)(o,2),d=j[0],x=j[1];return Object(O.jsxs)(a.Fragment,{children:[Object(O.jsxs)(S.a,{sx:{"& > *":{borderBottom:"0px solid black"}},children:[Object(O.jsx)(p.a,{sx:{borderBottom:"0px solid black"},children:Object(O.jsx)(C.a,{"aria-label":"expand row",size:"small",onClick:function(){return i(!r)},children:r?Object(O.jsx)(B.a,{}):Object(O.jsx)(N.a,{})})}),Object(O.jsx)(p.a,{sx:{borderBottom:"0px solid black"},component:"th",scope:"row",children:t.interface}),Object(O.jsx)(p.a,{align:"right",children:t.ip_address}),Object(O.jsx)(p.a,{align:"right",children:t.ok}),Object(O.jsx)(p.a,{align:"right",children:t.method}),Object(O.jsx)(p.a,{align:"right",children:t.status}),Object(O.jsx)(p.a,{align:"right",children:t.protocol})]}),Object(O.jsx)(S.a,{children:Object(O.jsx)(p.a,{style:{paddingBottom:0,paddingTop:0},colSpan:7,children:Object(O.jsx)(k.a,{in:r,timeout:"auto",unmountOnExit:!0,children:Object(O.jsxs)(h.a,{sx:{margin:1},children:[Object(O.jsx)(w.a,{variant:"h6",gutterBottom:!0,component:"div",children:"Rediger"}),Object(O.jsxs)(h.a,{component:"form",sx:{"& > :not(style)":{m:1,width:"25ch"}},noValidate:!0,autoComplete:"off",children:[Object(O.jsx)(b.a,{id:"new_ip_address",label:"Ip Address",variant:"filled",defaultValue:t.ip_address}),Object(O.jsx)(b.a,{id:"subnet_mask",label:"Subnet Mask",variant:"filled"}),Object(O.jsxs)(P.a,{component:"fieldset",variant:"standard",children:[Object(O.jsx)(T.a,{component:"legend",children:"Assign status on interface"}),Object(O.jsx)(A.a,{children:Object(O.jsx)(E.a,{control:Object(O.jsx)(M.a,{checked:d,onChange:function(){return x(!d)},name:"status"}),label:d?"Up":"Down"})}),Object(O.jsx)(F.a,{children:"This switches between 'shutdown' and 'no shutdown'"})]})]}),Object(O.jsx)(u.a,{variant:"outlined",onClick:function(e){fetch("http://localhost:8080/api/interface/configure",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({interface:t.interface,ip_address:document.getElementById("new_ip_address").value,subnet_mask:document.getElementById("subnet_mask").value,host:n.host,username:n.username,password:n.password})})},children:"Gem"})]})})})})]})}function W(e){var t=e.list,n=e.config;return Object(O.jsx)(g.a,{component:y.a,children:Object(O.jsxs)(f.a,{"aria-label":"collapsible table",children:[Object(O.jsx)(v.a,{children:Object(O.jsxs)(S.a,{children:[Object(O.jsx)(p.a,{}),Object(O.jsx)(p.a,{children:"Interface"}),Object(O.jsx)(p.a,{align:"right",children:"Ip Address"}),Object(O.jsx)(p.a,{align:"right",children:"Ok"}),Object(O.jsx)(p.a,{align:"right",children:"Method"}),Object(O.jsx)(p.a,{align:"right",children:"Status"}),Object(O.jsx)(p.a,{align:"right",children:"Protocol"})]})}),Object(O.jsx)(m.a,{children:t.map((function(e){return Object(O.jsx)(J,{row:e,config:n},e.interface)}))})]})})}var H=n(71);var R=function(){var e=Object(H.b)().enqueueSnackbar,t=Object(a.useRef)(null),n=Object(a.useState)(!1),c=Object(l.a)(n,2),s=c[0],r=c[1],i=Object(a.useState)({interfaces:[],vlans:[]}),d=Object(l.a)(i,2),x=d[0],k=d[1],C=Object(a.useState)(!1),_=Object(l.a)(C,2),N=_[0],I=_[1],B=Object(a.useState)(""),E=Object(l.a)(B,2),M=E[0],T=E[1],P=Object(a.useState)({sys_uptime:0,free_memory:0,sys_info:""}),A=Object(l.a)(P,2),F=A[0],J=A[1],R=Object(a.useRef)(null),V=Object(o.f)(),D=Object(o.g)();Object(a.useEffect)((function(){return console.log(D.state),k(D.state),Y(),R.current=setInterval(Y,6e4),U(),function(){clearInterval(R.current),r(!0),t.current.close()}}),[]);var U=function n(){t.current=new WebSocket("ws://localhost:8080/api/ws/"+D.state.host),t.current.onopen=function(){return e("Connection to traps has been opened",{variant:"success"})},t.current.onclose=function(){e("Connection to traps has been closed",{variant:"error"}),s||setTimeout((function(){n()}),1e3)}};Object(a.useEffect)((function(){t.current&&(t.current.onmessage=function(t){if(!s){var n=JSON.parse(t.data);console.log("e",n),e(n.values.toString().replace(","," - "),{variant:"info"})}})}),[s]);var Y=function(){fetch("http://localhost:8080/api/snmp",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({host:D.state.host,user:"MYUSER",authentication:"MYPASS123",privacy:"MYKEY123"})}).then((function(e){return e.json().then((function(e){return J(e)}))}))};return Object(O.jsxs)("div",{className:"frontpage",children:[N?Object(O.jsx)("div",{className:"success-container",children:Object(O.jsx)(j.a,{onClose:function(){return I(!1)},children:M})}):Object(O.jsx)("div",{}),Object(O.jsx)(u.a,{onClick:function(){return e="/",void V.push(e);var e},variant:"text",children:"Tilbage"}),Object(O.jsx)("div",{className:"banner",children:Object(O.jsx)(w.a,{children:x.banner})}),Object(O.jsxs)("div",{className:"sys-info",children:[Object(O.jsxs)("div",{children:[Object(O.jsx)(w.a,{variant:"subtitle1",children:"Sys Uptime"}),Object(O.jsx)(w.a,{variant:"h5",children:function(e){var t=Math.floor(e/36e5);e-=36e5*t;var n=Math.floor(e/6e4);return e-=6e4*n,e-=1e3*Math.floor(e/1e3),t+" Hours "+n+" Minutes"}(F.sys_uptime)})]}),Object(O.jsxs)("div",{style:{textAlign:"right"},children:[Object(O.jsx)(w.a,{variant:"subtitle1",children:"Free memory"}),Object(O.jsx)(w.a,{variant:"h5",children:function(e){var t=e/1024/1024;return Math.round(t)+" Mb"}(F.free_memory)})]})]}),Object(O.jsx)("h1",{children:"Hostname"}),Object(O.jsxs)("div",{className:"hostname-container",children:[Object(O.jsx)(b.a,{id:"hostname",label:"Hostname",variant:"filled"}),Object(O.jsx)(u.a,{variant:"outlined",onClick:function(e){return function(e){e.preventDefault();var t=document.getElementById("hostname").value;fetch("http://localhost:8080/api/hostname?hostname="+t).then((function(e){e.ok&&(T("Hostname er blevet \xe6ndret til "+t),I(!0))}))}(e)},children:"Gem hostname"})]}),Object(O.jsx)("h1",{children:"Vlans"}),Object(O.jsx)(h.a,{children:Object(O.jsx)(g.a,{component:y.a,sx:{borderRadius:"10px"},children:Object(O.jsxs)(f.a,{sx:{minWidth:650},"aria-label":"simple table",children:[Object(O.jsx)(v.a,{children:Object(O.jsxs)(S.a,{children:[Object(O.jsx)(p.a,{sx:{fontWeight:"700"},children:"Vlan"}),Object(O.jsx)(p.a,{sx:{fontWeight:"700"},align:"right",children:"Name"}),Object(O.jsx)(p.a,{sx:{fontWeight:"700"},align:"right",children:"Status"}),Object(O.jsx)(p.a,{sx:{fontWeight:"700"},align:"right",children:"Ports"})]})}),Object(O.jsx)(m.a,{children:x.vlans.map((function(e){return Object(O.jsxs)(S.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(O.jsx)(p.a,{sx:{color:"white"},component:"th",scope:"row",children:e.vlan}),Object(O.jsx)(p.a,{align:"right",children:e.name}),Object(O.jsx)(p.a,{align:"right",children:e.status}),Object(O.jsx)(p.a,{align:"right",children:null!==e.ports?e.ports.toString():null})]},e.vlan)}))})]})})}),Object(O.jsx)("h1",{children:"Interfaces"}),Object(O.jsx)(W,{list:x.interfaces,config:{host:x.host,username:x.username,password:x.password}},x),Object(O.jsx)("div",{className:"footer",children:Object(O.jsx)(w.a,{children:F.sys_info})})]})},V=n(99),D=n(31),U=n(202);var Y=function(){var e=Object(V.a)({palette:{mode:"dark"}});return Object(D.a)(),Object(O.jsx)(U.a,{theme:e,children:Object(O.jsx)(H.a,{maxSnack:5,children:Object(O.jsx)("div",{className:"App",children:Object(O.jsx)(i.a,{children:Object(O.jsxs)(o.c,{children:[Object(O.jsx)(o.a,{exact:!0,path:"/",children:Object(O.jsx)(x,{})}),Object(O.jsx)(o.a,{path:"/frontpage",children:Object(O.jsx)(R,{})})]})})})})})},G=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,221)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),s(e),r(e)}))};r.a.render(Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsx)(Y,{})}),document.getElementById("root")),G()}},[[142,1,2]]]);
//# sourceMappingURL=main.e4d7af4b.chunk.js.map